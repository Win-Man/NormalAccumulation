# 第 1 章 MySQL 体系结构和存储引擎

## 1.1 定义数据库和实例

Linux 下通过命令 `ps -ef | grep mysqld` 查看 MySQL 实例进程是否启动。

通过 `mysql --help | grep my.cnf` 查看 MySQL 数据库实例启动时，会在哪些位置查找配置文件。（按顺序读取，以最后一个文件的配置为准）

在 `mysql> SHOW VARIABLES LIKE 'datadir'\G` 查看数据库所在路径。

## 1.2 MySQL 体系结构

MySQL 数据库体系结构如图所示：
![](http://img.blog.csdn.net/20130517000945865)

MySQL 数据库区别于其他数据库的最重要的一个特点就是其插件式的表存储引擎。**注意点：存储引擎是基于表的，而不是数据库**。

## 1.3 MySQL 存储引擎

### 1.3.1 InnoDB 存储引擎

MySQL5.5.8版本开始，成为默认引擎

支持事务、行锁设计、支持外键

InnoDB 存储引擎采用聚集的方式，因此每张表的存储都是按主键的顺序进行存放。如果没有显示地在表定义时指定主键，InnoDB 存储引擎会为每一行生成一个 6 字节的 ROWID ，并以此作为主键。

### 1.3.2 MyISAM 存储引擎

不支持事务、表锁设计、支持全文搜索

### 1.3.3 NDB 存储引擎

数据全部存放在内存中

### 1.3.4 Memory 存储引擎

将表中的数据存放在内存中，如果数据重启或发生崩溃，表中的数据都将消失

### 1.3.5 Archive 存储引擎

只支持 INSERT 和 SELECT 操作，Archive 存储引擎非常适合存储归档数据

### 1.3.6 Federated 存储引擎

### 1.3.7 Maria 存储引擎

支持缓存数据和索引文件、行锁设计、提供 MVCC 功能，支持事务和非事务安全的选项、更好的 BLOB 字符类型的处理性能

### 1.3.8 其他存储引擎

## 1.4 存储引擎之间的比较

通过 `SHOW ENGINES` 查看当前使用的 MySQL数据所支持的存储引擎

各存储引擎之间比较：

![](http://img4.07net01.com/upload/images/2016/05/16/176201161020079.jpg)

## 1.5 连接 MySQL

### 1.5.1 TCP/IP

### 1.5.2 命名管道和共享内存

### 1.5.3 UNIX 域套接字

通过命令 `SHOW VARIABLES LIKE 'socket'` 进行 UNIX 域套接字文件的查找
